# Brick Breaker - 게임 스펙

## 기본 정보

| 항목 | 값 |
|------|-----|
| 캔버스 크기 | 800 x 600 px |
| 프레임 레이트 | 60 FPS |
| 조작 방식 | 마우스 + 키보드(방향키) |

---

## 게임 오브젝트

### 1. 패들 (Paddle)

| 속성 | 값 | 비고 |
|------|-----|------|
| 크기 | 100 x 15 px | 기본 크기 |
| 위치 | 화면 하단 50px 위 | Y 고정 |
| 이동 속도 | 8 px/frame | 키보드 조작 시 |
| 색상 | #3B82F6 (blue-500) | Tailwind 색상 |

**조작:**
- 마우스: 패들 중심이 마우스 X 좌표 추적
- 키보드: ← → 방향키로 이동
- 화면 경계를 벗어나지 않음

### 2. 공 (Ball)

| 속성 | 값 | 비고 |
|------|-----|------|
| 크기 | 반지름 8 px | 원형 |
| 초기 속도 | 5 px/frame | |
| 최대 속도 | 10 px/frame | 속도 제한 |
| 색상 | #FFFFFF (white) | |

**물리:**
- 벽 충돌: 반사각 = 입사각
- 패들 충돌: 충돌 위치에 따라 반사각 변화
  - 중앙: 수직 반사
  - 가장자리: 더 급한 각도로 반사
- 벽돌 충돌: 수직/수평 면에 따라 반사

### 3. 벽돌 (Brick)

| 속성 | 값 | 비고 |
|------|-----|------|
| 크기 | 75 x 20 px | |
| 배치 | 10열 x 5행 | 기본 레이아웃 |
| 간격 | 2 px | 벽돌 사이 |
| 상단 여백 | 50 px | |

**벽돌 타입:**

| 타입 | 색상 | 내구도 | 점수 |
|------|------|--------|------|
| 일반 (Normal) | #22C55E (green-500) | 1 | 10 |
| 강화 (Hard) | #F59E0B (amber-500) | 2 | 25 |
| 특수 (Special) | #EF4444 (red-500) | 1 | 50 |

---

## 게임 플로우

### 상태 (State)

```
idle → playing → paused → playing
                    ↓
              gameover / clear
```

| 상태 | 설명 | 전환 조건 |
|------|------|-----------|
| idle | 시작 대기 | 게임 시작 시 |
| playing | 게임 진행 중 | Space/클릭으로 시작 |
| paused | 일시 정지 | ESC 또는 P 키 |
| gameover | 게임 오버 | 생명 0 |
| clear | 스테이지 클리어 | 모든 벽돌 파괴 |

### 생명 (Lives)

| 항목 | 값 |
|------|-----|
| 초기 생명 | 3 |
| 최대 생명 | 5 |
| 생명 감소 | 공이 화면 하단으로 떨어질 때 |

---

## 점수 시스템

### 기본 점수

| 행동 | 점수 |
|------|------|
| 일반 벽돌 파괴 | 10 |
| 강화 벽돌 파괴 | 25 |
| 특수 벽돌 파괴 | 50 |

### 콤보 보너스

연속으로 벽돌을 맞출 때 보너스:

| 콤보 | 배율 |
|------|------|
| 1~4 | x1 |
| 5~9 | x1.5 |
| 10+ | x2 |

콤보는 패들에 공이 닿으면 리셋됩니다.

### 하이스코어

- 상위 10개 기록 저장
- 이름 + 점수 + 날짜
- 파일 DB (data/highscores.json)

---

## 스테이지 시스템

### 스테이지 구성

| 스테이지 | 벽돌 배치 | 특징 |
|----------|-----------|------|
| 1 | 일반 벽돌만 | 입문 |
| 2 | 일반 + 강화 | 강화 벽돌 등장 |
| 3 | 일반 + 강화 + 특수 | 전체 타입 |

### 난이도 조절

스테이지가 올라갈수록:
- 공 속도 +0.5 px/frame
- 강화 벽돌 비율 증가

---

## 충돌 판정

### AABB (Axis-Aligned Bounding Box)

```
충돌 조건:
ball.x + ball.radius > brick.x
ball.x - ball.radius < brick.x + brick.width
ball.y + ball.radius > brick.y
ball.y - ball.radius < brick.y + brick.height
```

### 충돌 방향 판정

공의 이전 위치와 현재 위치를 비교하여 충돌 면 결정:
- 수평면 충돌: dy 반전
- 수직면 충돌: dx 반전

---

## 키 바인딩

| 키 | 동작 |
|----|------|
| ← / A | 패들 왼쪽 이동 |
| → / D | 패들 오른쪽 이동 |
| Space | 게임 시작 / 공 발사 |
| P | 일시 정지 토글 |
| ESC | 일시 정지 (playing) / 게임 종료 (gameover/clear) |
| Q | 게임 종료 (paused/gameover/clear → idle) |
| R | 게임 재시작 (gameover/clear 시) |
| S | 하이스코어 조회 (idle/gameover/clear 시) |

---

## 향후 확장 (Out of Scope)

현재 버전에서 제외, 추후 고려:

- [ ] 아이템 시스템 (패들 확장, 멀티볼 등)
- [ ] 사운드 효과
- [ ] 배경 음악
- [ ] 파티클 효과
- [ ] 스테이지 에디터

---

## 버전 히스토리

| 버전 | 날짜 | 변경 내용 |
|------|------|-----------|
| 0.1.0 | 2025-12-10 | 초기 게임 스펙 작성 |
| 0.1.1 | 2025-12-10 | 키 바인딩 업데이트 (Q/S키 추가), 제목 변경 |
